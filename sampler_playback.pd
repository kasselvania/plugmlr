#N canvas 827 239 734 564 12;
#X floatatom 1891 658 5 0 0 0 - - - 12;
#X obj 1891 626 r row_\$1;
#X floatatom 1979 658 7 0 0 0 - - - 12;
#X obj 1930 706 *;
#X floatatom 1930 738 8 0 0 0 - - - 12;
#X obj 2100 1255 vline~;
#X msg 2149 1204 \$1 \, \$2 \$3;
#X obj -2660 -373 s \$0-playback_direction;
#X floatatom -2782 -523 5 0 0 0 - - - 12;
#X obj -1367 -99 r \$0-set_active_loop_start;
#X obj -1299 -149 s \$0-set_active_loop_start;
#X obj -1111 -149 s \$0-set_active_loop_end;
#X obj -1195 -99 r \$0-set_active_loop_end;
#X floatatom -1367 -70 5 0 0 0 - - - 12;
#X floatatom -1195 -70 9 0 0 0 - - - 12;
#X obj -1367 -37 f;
#X obj -1195 -37 f;
#X obj -2671 -459 f;
#X obj -2671 -418 s \$0-rate_multiplier;
#X obj -2671 -689 lb;
#X msg -2671 -524 1;
#X floatatom -2671 -489 5 0 0 0 - - - 16;
#X obj -1367 54 s \$0-loop_start;
#X obj -1195 54 s \$0-loop_end;
#X obj 1280 164 f;
#X obj 218 86 bng 25 250 50 0 \$0-play_button \$0-press_play empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a;
#X obj 1244 71 lb;
#X msg 1241 110 0;
#X floatatom 1291 114 5 0 0 0 - - - 12;
#X obj 1273 375 s \$0-is_paused_flag;
#X obj 1484 262 f;
#X obj 1484 157 r \$0-pause_position;
#X text 1323 156 is paused;
#X obj 1280 226 sel 0 1;
#X msg 1069 62 1;
#X msg 1052 81 0;
#X obj 810 1079 f;
#X obj 982 915 r \$0-loop_end;
#X obj 944 1064 f;
#X obj 1088 940 r \$0-rate_multiplier;
#X obj 1077 983 f;
#X obj 810 1010 switch;
#X obj 944 1010 switch;
#X obj 667 665 r \$0-playback_direction;
#X obj 656 817 f;
#X obj 828 974 f;
#X obj 971 961 f;
#X obj 656 915 t b f;
#N canvas 0 22 450 300 calc_duration 0;
#X obj 228 89 inlet start_pos;
#X obj 364 132 inlet target_pos;
#X obj 503 132 inlet rate_mult;
#X obj 619 132 inlet sr_khz;
#X obj 228 250 expr abs($f2-$f1);
#X obj 352 632 outlet duration_ms;
#X floatatom 228 289 7 0 0 0 - - - 12;
#X text 134 322 delta_samples;
#X obj 503 250 expr $f2 * $f1;
#X floatatom 503 289 5 0 0 0 - - - 12;
#X text 423 322 samples_per_ms;
#X obj 753 132 inlet bpm;
#X obj 858 132 inlet num_beats_for_segment;
#X obj 1499 132 inlet clock_mode_enabled;
#X obj 1499 168 f;
#X obj 266 370 pack f f;
#X obj 228 214 pack f f;
#X obj 248 323 f;
#X obj 364 323 f;
#X text 123 499 orig_duration_ms;
#X obj 266 500 f;
#X text 144 165 f_start_pos;
#X text 279 165 f_target_pos;
#X text 402 165 f_rate_multiplier;
#X text 555 165 f_sr_khz;
#X text 692 165 f_bpm;
#X text 905 167 f_num_beats;
#X text 1543 167 f_clock_mode;
#X obj 228 118 t f b b b b b b;
#X obj 408 532 switch;
#X obj 1514 285 + 1;
#X floatatom 1074 148 5 0 0 0 - - - 12;
#X obj 1074 122 r \$1_file_abs_end;
#X obj 1207 122 r \$1_file_abs_start;
#X floatatom 1207 148 5 0 0 0 - - - 12;
#X obj 753 221 expr ((60000 / $f1) * $f2 );
#X floatatom 753 250 5 0 0 0 - - - 16;
#X obj 753 281 f;
#X text 800 280 target duration ms;
#X obj 1095 230 expr ($f1 - $f2);
#X obj 1095 256 f;
#X text 1150 256 total number of samples;
#X obj 753 398 f;
#X text 937 370 Base Playback Rate;
#X obj 698 437 expr ($f1 * $f2);
#X obj 626 579 f;
#X text 672 578 synced ms;
#X obj 795 543 expr abs(($f2 - $f1) / $f3);
#X obj 919 486 expr (($f3 * 100) / ($f2 *$f1));
#X obj 753 157 t b f;
#X obj 266 421 expr ($f1 / $f2);
#X obj 858 166 f;
#X obj 1074 173 f;
#X obj 1207 173 f;
#X obj 162 214 f;
#X obj 364 166 f;
#X obj 503 166 f;
#X obj 619 166 f;
#X obj 753 185 f;
#X obj 150 -121 lb;
#X msg 150 -92 3;
#X msg 197 -5 1;
#X msg 721 70 5;
#X obj 203 -49 t b f f f f f f b f;
#X obj 190 421 /;
#X obj 1007 297 * 100;
#X obj 753 322 *;
#X obj 753 358 /;
#X obj 555 437 expr abs($f2 - $f1);
#X obj 652 500 /;
#X obj 195 717 s \$0-crossfade_vline;
#X connect 0 0 28 0;
#X connect 1 0 55 0;
#X connect 2 0 56 0;
#X connect 3 0 57 0;
#X connect 4 0 6 0;
#X connect 6 0 17 0;
#X connect 8 0 9 0;
#X connect 9 0 18 0;
#X connect 11 0 49 0;
#X connect 12 0 51 0;
#X connect 13 0 14 0;
#X connect 14 0 30 0;
#X connect 16 0 4 0;
#X connect 17 0 64 0;
#X connect 18 0 64 1;
#X connect 20 0 29 1;
#X connect 28 0 16 0;
#X connect 28 0 54 0;
#X connect 28 1 55 0;
#X connect 28 2 56 0;
#X connect 28 3 57 0;
#X connect 28 4 58 0;
#X connect 28 5 51 0;
#X connect 28 5 52 0;
#X connect 28 6 14 0;
#X connect 28 6 53 0;
#X connect 29 0 5 0;
#X connect 29 0 70 0;
#X connect 30 0 29 0;
#X connect 31 0 52 0;
#X connect 32 0 31 0;
#X connect 33 0 34 0;
#X connect 34 0 53 0;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 37 0 54 0;
#X connect 37 0 66 1;
#X connect 39 0 40 0;
#X connect 40 0 65 0;
#X connect 42 0 44 1;
#X connect 44 0 69 1;
#X connect 45 0 29 2;
#X connect 49 0 28 0;
#X connect 49 1 58 1;
#X connect 51 0 35 1;
#X connect 52 0 39 0;
#X connect 53 0 39 1;
#X connect 54 0 68 0;
#X connect 55 0 16 1;
#X connect 55 0 68 1;
#X connect 56 0 8 0;
#X connect 56 0 44 0;
#X connect 57 0 8 1;
#X connect 57 0 66 0;
#X connect 58 0 35 0;
#X connect 59 0 60 0;
#X connect 60 0 63 0;
#X connect 61 0 16 0;
#X connect 62 0 52 0;
#X connect 63 0 61 0;
#X connect 63 1 55 0;
#X connect 63 2 56 0;
#X connect 63 3 57 0;
#X connect 63 4 58 0;
#X connect 63 5 51 0;
#X connect 63 6 62 0;
#X connect 64 0 20 0;
#X connect 65 0 67 0;
#X connect 66 0 67 1;
#X connect 67 0 42 0;
#X connect 68 0 69 0;
#X connect 69 0 45 0;
#X restore 927 1139 pd calc_duration;
#X obj -913 -149 s \$0-rate_khz;
#X obj 1229 940 r \$0-rate_khz;
#X obj 1154 983 f;
#X obj 798 1272 pack f f f;
#X obj 927 1190 t b b f;
#X obj 798 1236 f;
#X obj 849 1236 f;
#X obj 656 877 + 1;
#N canvas 733 172 450 300 loop_logic 0;
#X obj 655 634 r~ \$0-vline_output_sig;
#X obj 888 822 edge~;
#X obj 888 852 s \$0_loop_hit_bang;
#X obj 865 634 r~ \$0_target_for_expr_sig;
#X text 661 608 v_out;
#X text 865 608 v_tarrget;
#X obj 708 695 >=~;
#X text 592 694 fwd_comp_result;
#X text 1113 680 is_fwd_sig;
#X obj 1080 634 sig~;
#X obj 1053 687 ==~ 0;
#X obj 738 763 *~;
#X text 592 762 final_fwd_trigger_sig;
#X obj 810 695 <=~, f 5;
#X text 865 694 rev_comp_result;
#X obj 1206 687 ==~ 1;
#X text 1245 708 is_rev_sig;
#X obj 945 755 *~;
#X text 1014 754 final_rev_trigger_sig;
#X obj 888 786 +~;
#X obj 1080 526 r \$0_direction_for_expr_sig;
#X obj 1081 584 - 1;
#X obj 655 899 numbox~ 9 14 100 #E3DFD9 #5A5A5A 10 0 0 0;
#X obj 865 899 numbox~ 6 17 100 #E3DFD9 #5A5A5A 10 0 0 0;
#X obj 1067 899 numbox~ 7 17 100 #E3DFD9 #5A5A5A 10 0 0 0;
#X connect 0 0 6 0;
#X connect 0 0 13 0;
#X connect 0 0 22 0;
#X connect 1 0 2 0;
#X connect 3 0 6 1;
#X connect 3 0 13 1;
#X connect 3 0 23 0;
#X connect 6 0 11 0;
#X connect 9 0 10 0;
#X connect 9 0 15 0;
#X connect 9 0 24 0;
#X connect 10 0 11 1;
#X connect 11 0 19 0;
#X connect 13 0 17 0;
#X connect 15 0 17 1;
#X connect 17 0 19 1;
#X connect 19 0 1 0;
#X connect 20 0 21 0;
#X connect 21 0 9 0;
#X restore 1434 854 pd loop_logic;
#X obj 868 1272 sig~;
#X obj 868 1319 s~ \$0_target_for_expr_sig;
#X obj 1924 1404 s~ \$0-vline_output_sig;
#X obj 858 885 s \$0_direction_for_expr_sig;
#X obj 1857 264 r \$0_loop_hit_bang;
#X obj 1090 116 s \$0-is_playing_flag;
#X obj 1291 84 r \$0-is_paused_flag;
#X obj 1852 1330 snapshot~;
#X floatatom 1486 203 10 0 0 0 - - - 12;
#X obj 1852 1370 s \$0-pause_position;
#X obj 1280 262 t b b b;
#X msg 1283 307 1;
#X msg 1381 325 0;
#X obj 1731 376 f;
#X obj 1356 -96 r \$1_sample_swap_bang;
#X obj 296 86 bng 25 250 50 0 \$0-stop_button empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a;
#X text 195 57 Play/Pause;
#X text 288 57 stop;
#X obj -2782 -558 count 1;
#X obj 383 86 bng 25 250 50 0 \$0-dir-change empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a;
#X text 341 57 Direction Change;
#X msg 1467 343 \$1 0;
#X obj 914 583 r \$0-is_playing_flag;
#X floatatom 914 657 5 0 0 0 - - - 12;
#X obj 824 689 f;
#X obj 824 732 sel 0 1;
#X obj 1746 1330 snapshot~;
#X floatatom 1746 1366 10 0 0 0 - - - 12;
#X obj 1731 439 s \$0-jump_to_pos;
#X obj 1857 439 s \$0-loop-end-pos;
#X obj 2182 439 s \$0-rate-multiplyer-trigger;
#X obj 2369 439 s \$0-rate_khz_trigger;
#X obj 910 1030 r \$0-loop-end-pos;
#X obj 1095 908 r \$0-rate-multiplyer-trigger;
#X obj 1229 908 r \$0-rate_khz_trigger;
#X obj 656 711 r \$0-direction_swap_trigger;
#X obj 683 1038 r \$0-jump_to_pos;
#X obj 1746 1416 s \$0-direction-change-pos;
#X obj 2416 243 r \$0-direction-change-pos;
#X obj 1575 16 s \$0-stop_message, f 18;
#X obj -736 1580 r \$0-stop_message;
#X obj 1949 1061 r \$0-pause_sample_number;
#X obj 1381 410 s \$0-pause_sample_number;
#X obj 1309 435 s \$0-pause_snapshot_bang;
#X obj 1852 1239 r \$0-pause_snapshot_bang;
#X obj 902 854 s \$0-playback_dir_snapshot;
#X obj 1746 1277 r \$0-playback_dir_snapshot;
#X obj 1350 274 s \$0-resume_bang;
#X obj 1721 243 r \$0-resume_bang;
#X obj 1056 542 s \$0-play_button_bang;
#X obj 1830 194 r \$0-play_button_bang;
#X obj 1508 435 s \$0-resume_sample_location;
#X obj 1731 136 r \$0-resume_sample_location;
#X text 56 85 playback speed;
#X obj -990 733 sel 1 2 3 4 5;
#X msg -1083 814 0.25, f 5;
#X msg -1028 814 0.5, f 5;
#X msg -925 814 2, f 5;
#X msg -878 814 4, f 5;
#X msg -978 814 1, f 5;
#X obj -978 645 + 1;
#X obj -983 1527 s \$0-selected_rate;
#X obj -2713 -558 r \$0-selected_rate;
#X obj -814 571 r \$0-is_playing_flag;
#X floatatom -814 609 5 0 0 0 - - - 12;
#X obj -814 645 f;
#X obj -814 693 sel 0 1;
#X obj -683 775 s \$0-playback_speed_snapshot;
#X obj 1550 1277 r \$0-playback_speed_snapshot;
#X obj 1550 1330 snapshot~;
#X floatatom 1550 1366 10 0 0 0 - - - 12;
#X obj 1550 1416 s \$0-speed_change_pos;
#X obj 2234 283 r \$0-speed_change_pos;
#X obj -989 609 t b f;
#X obj 56 129 hradio 20 1 1 5 \$0-playback_speed_dial empty empty 0 -8 0 10 #e3dfd9 #5a5a5a #5a5a5a 2;
#X obj 41 27 lb;
#X msg 41 58 2;
#X obj -989 571 r \$0-playback_speed_dial;
#X obj 1949 1180 s~ \$0-playhead_pos;
#X obj -1256 528 r~ \$0-playhead_pos;
#X obj 189 129 hsl 499 19 0 1 0 0 empty \$0-playbar_data_i empty -2 -8 0 10 #e3dfd9 #5a5a5a #5a5a5a 0 1;
#X obj -1256 642 scale 0 \$1 0 1;
#X obj -1256 587 snapshot~;
#X obj -1411 271 r \$0-is_playing_flag;
#X obj -1380 507 metro 20;
#X obj 1291 44 s \$0-playhead_reset;
#X obj -1306 498 r \$0-playhead_reset;
#X msg 1340 5 0;
#X obj 2068 691 r \$0-is_playing_flag;
#X floatatom 2068 737 5 0 0 0 - - - 12;
#X obj 2068 773 f;
#X obj 2068 813 sel 0 1;
#X obj 1930 768 t f b;
#X obj 2068 851 s \$0-press_play;
#X obj 1266 -128 r \$0-stop_button;
#X obj -2782 -619 r \$0-dir-change;
#X floatatom 1778 624 5 0 0 0 - - - 12;
#X obj 1767 665 f;
#X obj 1778 586 r \$0-playback_direction;
#X obj 1912 885 switch;
#X obj 1769 709 + 1;
#X obj 1835 682 bang;
#X obj 1995 813 +;
#X text 1873 534 slice position (and reverse offset);
#X text 2037 74 Playback Trigger Order;
#X obj 1996 243 r \$0-key_press_pos;
#X obj 1921 923 s \$0-key_press_pos;
#X msg 2205 851 0;
#X obj 2203 914 s \$0-unpause;
#X obj 1441 84 r \$0-unpause;
#X floatatom 909 732 5 0 0 0 - - - 12;
#X obj 909 768 f;
#X obj 884 805 sel 0 1;
#X obj 902 689 r \$0-is_paused_flag;
#X floatatom -743 652 5 0 0 0 - - - 12;
#X obj -743 688 f;
#X obj -750 731 sel 0 1;
#X obj -750 609 r \$0-is_paused_flag;
#X text 1099 740 vline playback and speed calculations;
#X text -995 466 playback speed change mechanism;
#X text -1361 -380 Master Numbers;
#X text 383 13 Controls;
#X text 1405 -204 Play/Pause/Stop Logic;
#X text 1975 1029 vline object and arrays;
#X obj -969 1077 knob 50 10 2000 0 100 empty \$0-rate_slew-duration-i #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 51 empty empty 0 12 6 -15 0 1 0 0;
#X obj -1033 1092 f;
#X floatatom -969 1151 5 0 0 0 - - - 12;
#X obj -969 1187 f;
#X text -987 1050 slew duration;
#X obj -892 1187 f;
#X text -892 1050 exponent/curve control;
#X obj -892 1077 knob 50 -1 0 0 0 empty \$0-rate_slew_curve_i #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 0 empty empty 0 12 6 -15 0 1 0 0;
#X floatatom -892 1151 5 0 0 0 - - - 12;
#X obj -983 1338 curve~;
#X obj -983 1235 pack f f f;
#X msg -983 1269 \$1 \$2 \$3;
#X obj -1033 1136 t f b b;
#X obj -983 1303 t a b;
#X obj -983 1452 cyclone/snapshot~;
#X msg -882 1411 5;
#X obj -954 1405 tgl 25 0 empty empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a 0 1;
#X obj -954 1007 t f b;
#X msg -907 1316 0;
#X obj -1041 1559 s \$0-slew_bang;
#X obj -841 518 r \$0-slew_bang;
#X obj -1041 1527 bang;
#X obj -1041 1426 f;
#X obj -854 941 f;
#X obj -1047 941 f;
#X obj -978 688 t b f;
#X obj -827 874 sel 0 1;
#X obj -827 843 f;
#X floatatom -814 807 5 0 0 0 - - - 16;
#X obj -2661 -266 tgl 25 0 empty \$0-slew_engage-i empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a 0 1;
#X obj -2657 -330 lb;
#X msg -2657 -292 0;
#X obj -1041 1392 t b b;
#X obj -882 1374 lb;
#X floatatom -2661 -226 5 0 0 0 - - - 12;
#X obj 18 306 knob 50 10 2000 0 100 \$0-rate_slew-duration-i empty #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 10 empty empty 0 12 6 -15 0 1 0 0;
#X obj 111 306 knob 50 -1 0 0 0 \$0-rate_slew_curve_i empty #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 0 empty empty 0 12 6 -15 0 1 0 0;
#X obj 72 224 tgl 25 0 \$0-slew_engage-i empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a 0 1;
#X text 100 263 slew curve;
#X text 18 263 slew time;
#X floatatom 18 366 7 0 0 0 - - - 12;
#X floatatom 111 363 7 0 0 0 - - - 12;
#X text 48 191 slew engage;
#X obj 255 224 tgl 25 0 \$0-direction_slew_i empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a 0 1;
#X text 200 191 direction change slew;
#X obj -2478 -266 tgl 25 0 empty \$0-direction_slew_i empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a 0 1;
#X obj -2474 -337 lb;
#X msg -2474 -299 0;
#X floatatom -2478 -226 5 0 0 0 - - - 12;
#X obj -2478 -190 s \$0-direction_slew_engaged;
#X obj -2661 -190 s \$0-slew_engaged;
#X obj -814 775 r \$0-slew_engaged;
#X msg -829 1358 stop;
#X obj -1041 1493 change;
#X obj -967 1493 change;
#X text 548 664 playback dir;
#X text 571 805 playback dir;
#X obj 720 743 lb;
#X msg 720 784 0;
#X obj -2782 -473 t b f;
#X obj -2805 -373 s \$0-dir_slew_logic;
#X obj 1550 1500 snapshot~;
#X floatatom 1550 1536 10 0 0 0 - - - 12;
#X obj 1550 1460 r \$0-dir-slew-snapshot;
#X obj 1550 1566 s \$0-dir-slew-pos;
#X obj -181 1530 s \$0-selected_rate;
#X obj -209 1050 knob 50 10 2000 0 100 empty \$0-dir_slew-duration-i #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 51 empty empty 0 12 6 -15 0 1 0 0;
#X floatatom -209 1109 5 0 0 0 - - - 12;
#X text -227 1023 slew duration;
#X obj -30 1166 f;
#X text 22 1124 exponent/curve control;
#X obj -30 1051 knob 50 -1 0 0 0 empty \$0-dir_slew_curve_i #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 0 empty empty 0 12 6 -15 0 1 0 0;
#X floatatom -30 1125 5 0 0 0 - - - 12;
#X obj -181 1425 curve~;
#X obj -181 1466 cyclone/snapshot~;
#X msg -80 1438 5;
#X obj -251 1542 bang;
#X obj -80 1406 lb;
#X obj -251 1507 change;
#X obj -181 1500 change;
#X obj -103 977 r \$0-rate_multiplier;
#X obj -131 1081 f;
#X obj -131 865 r \$0-dir_slew_logic;
#X obj -121 1176 f;
#X obj -131 903 t b b;
#X obj 432 226 tgl 25 0 \$0-tape_stop_slew empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a 0 1;
#X text 414 191 tape stop;
#X obj -2478 -467 f;
#X floatatom -2478 -516 5 0 0 0 - - - 12;
#X obj -2478 -418 s \$0-stored_rate;
#X obj -2478 -558 r \$0-active_rate;
#X obj -1149 1007 s \$0-active_rate;
#X obj -209 1148 / 2;
#X obj 2118 136 r \$0-dir-slew-pos;
#X obj 2533 439 s \$0-update_loop_start;
#X obj 2707 439 s \$0-update_loop_end;
#X obj 1721 323 t b b b b b b b;
#X obj 1857 323 t b b b b b b b;
#X obj 2024 323 t f b b b b b b;
#X obj 733 854 r \$0-update_loop_start;
#X obj 971 805 r \$0-update_loop_end;
#X obj 2307 136 r \$0-stop_settings_reset;
#X obj 2307 185 t b b b b b b b;
#X msg 2280 244 0;
#X obj 2110 205 t f b b b b b;
#X obj -30 1367 delay;
#X obj 47 1343 s \$0-direction_swap_trigger;
#X obj 33 1270 t b b b;
#X obj 62 1312 s \$0-playback_speed_snapshot;
#X obj 33 1369 s \$0-playback_speed_snapshot;
#X obj -152 1335 t a b b;
#X obj -117 1425 tgl 25 0 empty empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a 0 1;
#X msg -77 1176 0;
#X text -2590 -632 Playback States;
#X floatatom -377 1294 5 0 0 0 - - - 12;
#X obj -388 1326 f;
#X obj -388 1359 sel 0 1;
#X obj -377 1258 r \$0-direction_slew_engaged;
#X obj -374 1396 f;
#X obj -131 1113 t b f b b b;
#X obj -375 1478 s \$0-direction_swap_trigger;
#X obj 2416 285 t f b b b b b;
#X msg -197 1373 \$1 0 0 0 \$2 \$3 \$4 \$2 \$3;
#X obj -77 1282 pack f f f f;
#X obj 25 1243 f;
#X floatatom 25 1210 5 0 0 0 - - - 12;
#X obj -751 946 s \$0-selected_rate_mult;
#X obj 25 1176 r \$0-selected_rate_mult;
#X obj 20 1489 s \$0-selected_rate;
#X obj -23 1425 f;
#X obj 195 306 knob 50 10 2000 0 100 \$0-dir_slew-duration-i empty #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 51 empty empty 0 12 6 -15 0 1 0 0;
#X text 177 263 slew duration;
#X floatatom 195 363 7 0 0 0 - - - 12;
#X obj 285 306 knob 50 -1 0 0 0 \$0-dir_slew_curve_i empty #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 0 empty empty 0 12 6 -15 0 1 0 0;
#X floatatom 285 363 7 0 0 0 - - - 12;
#X text 274 263 slew curve;
#X obj -707 2182 s \$0-selected_rate;
#X obj -745 1847 knob 50 10 2000 0 100 empty \$0-stop_slew-duration-i #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 51 empty empty 0 12 6 -15 0 1 0 0;
#X floatatom -745 1906 5 0 0 0 - - - 12;
#X text -763 1820 slew duration;
#X obj -556 1934 f;
#X text -485 1834 exponent/curve control;
#X obj -556 1819 knob 50 -1 0 0 0 empty \$0-stop_slew_curve_i #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 0 empty empty 0 12 6 -15 0 1 0 0;
#X floatatom -556 1893 5 0 0 0 - - - 12;
#X obj -707 2057 curve~;
#X obj -707 2098 cyclone/snapshot~;
#X msg -606 2070 5;
#X obj -772 2182 bang;
#X obj -606 2038 lb;
#X obj -772 2132 change;
#X obj -707 2132 change;
#X obj -606 1786 r \$0-rate_multiplier;
#X obj -657 1829 f;
#X obj -644 1906 f;
#X obj -658 1759 t b b;
#X obj -678 1967 t a b b;
#X obj -643 2057 tgl 25 0 empty empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a 0 1;
#X msg -583 1941 0;
#X obj -453 1941 r \$0-selected_rate_mult;
#X obj -464 2007 s \$0-selected_rate;
#X obj -464 1980 f;
#X obj 1423 1330 snapshot~;
#X floatatom 1423 1366 10 0 0 0 - - - 12;
#X obj 1423 1277 r \$0-stop_snapshot;
#X obj 1423 1416 s \$0-stop_pos;
#X obj -606 1759 s \$0-stop-snapshot;
#X obj 2280 75 r \$0-stop_pos;
#X msg -707 2005 \$1 0 0 0 \$2 \$3;
#X obj -678 1941 pack f f f;
#X obj -284 1948 r \$0-loop_start;
#X obj -330 2026 f;
#X obj -350 2057 pack f;
#X msg -397 2089 \$1 0;
#X obj -434 2132 s \$0-vline_0;
#X obj 2100 1102 r \$0-vline_0;
#X obj -675 1866 t f b b b;
#X obj -674 1724 sel 0 1;
#X obj -674 1694 f;
#X obj 383 306 knob 50 10 2000 0 100 \$0-stop_slew-duration-i empty #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 51 empty empty 0 12 6 -15 0 1 0 0;
#X floatatom 383 365 7 0 0 0 - - - 12;
#X obj 454 306 knob 50 -1 0 0 0 \$0-stop_slew_curve_i empty #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 0 empty empty 0 12 6 -15 0 1 0 0;
#X floatatom 454 365 7 0 0 0 - - - 12;
#X text 357 263 slew duration;
#X text 454 263 slew curve;
#X obj -772 2226 s \$0-stop_snapshot;
#X obj -1235 397 r \$0-stop_playbar;
#X msg -1271 427 0;
#X obj -564 2132 s \$0-stop_playbar;
#X obj -663 1528 r \$0-is_playing_flag;
#X floatatom -663 1550 5 0 0 0 - - - 16;
#X obj -692 1664 sel 0 1;
#X obj -692 1634 f;
#X obj 1266 -45 t b b;
#X obj -256 1980 r \$0-loop_end;
#X floatatom -256 2006 5 0 0 0 - - - 12;
#X floatatom -319 1995 5 0 0 0 - - - 12;
#X msg -453 2089 stop;
#X obj -532 1980 t b b b;
#X obj 49 903 r \$0-is_playing_flag;
#X floatatom 49 941 5 0 0 0 - - - 12;
#X obj 49 977 f;
#X obj 49 1025 sel 0 1;
#X floatatom 120 984 5 0 0 0 - - - 12;
#X obj 120 1020 f;
#X obj 113 1063 sel 0 1;
#X obj 113 941 r \$0-is_paused_flag;
#X obj -251 1580 s \$0-dir_slew_bang;
#X obj 7 865 r \$0-dir_slew_bang;
#X obj -388 1507 s \$0-dir_slew_bang;
#X obj 257 1182 s \$0-dir-slew-snapshot;
#X obj -22 1456 t b f;
#X obj -22 1519 s \$0-playback_speed_snapshot;
#X obj -466 1044 r \$0-is_playing_flag;
#X floatatom -466 1082 5 0 0 0 - - - 12;
#X obj -466 1118 f;
#X obj -466 1166 sel 0 1;
#X floatatom -395 1125 5 0 0 0 - - - 12;
#X obj -395 1161 f;
#X obj -402 1204 sel 0 1;
#X obj -402 1082 r \$0-is_paused_flag;
#X obj 1066 155 s \$0-direction_swap_trigger;
#X obj 656 847 change;
#X obj 1294 473 s \$0-dir-slew-snapshot;
#X obj -388 1426 t b b;
#X floatatom -1411 325 5 0 0 0 - - - 12;
#X obj -1411 374 sel 0 1;
#X obj -1205 451 t b b;
#X msg -493 2089 1 0;
#X obj 1928 128 r \$1-sample_load_bang;
#X obj 1928 157 t b b;
#X obj 672 961 lb;
#X msg 672 987 1;
#X floatatom -2819 -304 5 0 0 0 - - - 12;
#X obj -2819 -279 f;
#X floatatom -3014 -303 5 0 0 0 - - - 12;
#X obj 1194 987 r \$0-project_bpm_i;
#X obj 1331 987 r \$0-num_beats_for_segment_i;
#X obj -3014 -329 r \$1-num_beats_for_segment;
#X obj -3014 -190 s \$0-num_beats_for_segment_i;
#X floatatom -3002 -437 5 0 0 0 - - - 12;
#X obj -3002 -507 tgl 25 0 empty empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a 0 1;
#X obj -3002 -373 s \$0-clock_mode_enable_i;
#X obj 1331 1031 r \$0-clock_mode_enable_i;
#X obj -3002 -582 r \$1-clock_mode_enabled;
#X obj -3014 -266 f;
#X obj -2819 -330 r project_bpm;
#X obj -2819 -190 s \$0-project_bpm_i;
#X text 2294 1511 vca to audio out;
#X floatatom -1111 -180 13 0 0 0 - - - 12;
#X obj -1111 -212 f;
#X obj -913 -212 f;
#X obj 1979 601 r \$0-slice_size_val;
#X floatatom -1510 -70 7 0 0 0 - - - 12;
#X obj -1510 -37 f;
#X obj -1256 733 s \$0-playbar_data_i;
#X obj -1159 587 r \$0-set_active_loop_end;
#X obj 3506 608 numbox~ 10 15 100 #E3DFD9 #5A5A5A 10 0 0 0;
#X obj 2805 401 s \$0-audio_file_slot_selection_i;
#X obj -2241 -558 r \$0-buffer_status, f 19;
#X floatatom -2241 -520 5 0 0 0 - - - 12;
#X obj -2241 -471 f;
#X obj -2241 -422 s \$0-stored_buffer_state;
#X obj -2241 -337 r \$0-overdub_enabled;
#X floatatom -2241 -292 5 0 0 0 - - - 12;
#X obj -2241 -226 f;
#X obj -2241 -190 s \$0-overdub_enabled_i;
#X obj -2317 -582 lb;
#X msg -2317 -556 0;
#X obj 499 86 bng 25 250 50 0 \$0-record_button_bang empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a;
#X floatatom 1231 -483 5 0 0 0 - - - 12;
#X obj 1231 -451 f;
#X obj 1231 -419 sel 0 1;
#X obj 1231 -517 r \$0-is_paused_flag;
#X text -2171 -486 Flag for if the audio buffer has recorded data;
#X obj 798 1349 s \$0-vline_message;
#X obj 2163 1061 r \$0-vline_message;
#X obj 3659 608 snapshot~;
#X floatatom 3659 644 12 0 0 0 - - - 12;
#X obj 3646 683 f;
#X obj 3470 722 snapshot~;
#X floatatom 3470 759 11 0 0 0 - - - 16;
#X obj 3506 789 f;
#X text 3485 400 Live Buffer First Recorded Sample, f 30;
#X obj 1628 -953 r \$0-record_button_bang;
#X floatatom 1962 -789 5 0 0 0 - - - 12;
#X obj 1951 -759 f;
#X obj 1951 -730 sel 0 1;
#X obj -665 -212 f;
#X obj 597 86 bng 25 250 50 0 \$0-delete_buffer empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a;
#X text 568 57 delete buffer, f 12;
#X text 2112 1395 routing control;
#X obj 3333 590 s \$0-vline_message;
#X obj 3824 707 s \$0-rec_control_signal;
#X msg 3827 676 1;
#X obj 3791 739 s \$0-read_control_signal;
#X msg 3791 707 0;
#X msg 3356 739 0;
#X obj 2150 1145 switch;
#X msg 2153 1012 1;
#X obj 2157 937 lb;
#X obj 2155 971 delay 100;
#X floatatom -1510 -3 5 0 0 0 - - - 12;
#X floatatom -913 -180 5 0 0 0 - - - 12;
#X floatatom -1195 -5 7 0 0 0 - - - 12;
#X floatatom -1367 -3 5 0 0 0 - - - 12;
#X floatatom -1297 -178 5 0 0 0 - - - 12;
#X floatatom -665 -180 5 0 0 0 - - - 12;
#X floatatom 1168 1097 5 0 0 0 - - - 12;
#X floatatom 1121 1082 5 0 0 0 - - - 12;
#X floatatom 1077 1077 5 0 0 0 - - - 12;
#X floatatom 1033 1082 5 0 0 0 - - - 12;
#X floatatom 1050 1030 5 0 0 0 - - - 12;
#X floatatom 945 1109 5 0 0 0 - - - 12;
#X floatatom 861 1111 5 0 0 0 - - - 12;
#X obj 839 924 r \$0-loop_start;
#X obj 3856 676 s \$0-direction_swap_trigger;
#X obj -1553 506 r \$0-set_active_loop_start;
#X msg 2068 1134 stop;
#X msg 3333 561 0 0 0;
#X obj 3333 532 s \$0-stop_button;
#X obj 135 658 f;
#X obj -80 597 sel 0 1;
#X obj -80 673 pack s f;
#X obj -80 750 s \$0-send_target;
#N canvas 733 172 450 300 tabread_processing 0;
#X obj 197 191 tabread4~;
#X obj 116 191 tabread4~;
#X obj 116 241 *~;
#X obj 195 232 *~;
#X obj 230 107 line~;
#X msg 231 75 1 5;
#X obj 114 336 s~ \$1-voice-audio-L;
#X obj 195 303 s~ \$1-voice-audio-R;
#X obj 116 139 *~;
#X obj 34 56 r \$0-read_control_signal;
#X obj 230 6 inlet slice-env;
#X obj 436 160 prepend set;
#X obj 430 98 prepend set;
#X obj 430 67 inlet tabread_selection_L;
#X obj 436 129 inlet tabread_selection_R;
#X obj 505 241 inlet switch_state;
#X obj 505 282 tgl 25 0 empty empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a 0 1;
#X obj 505 333 switch~;
#X obj 116 86 inlet~ tabread;
#X obj 230 37 bang;
#X obj 430 -84 r \$0_stop_pause_env;
#X msg 430 -43 0 5;
#X obj 80 -90 r \$0_play_env;
#X obj 152 443 meter~;
#X obj 281 56 r \$0-crossfade_vline;
#X obj 296 218 vline~;
#X obj 270 160 f;
#X obj 372 148 bng 25 250 50 0 empty empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a;
#X obj 281 129 - 4;
#X obj -52 138 r \$0-stop_env;
#X msg 311 181 0 \, 1 4 \, 0 5 \$1;
#X obj 357 303 print crossfade_vline;
#X obj -35 281 line~;
#X msg -56 187 0 6, f 11;
#X text 296 368 figure out if the crossfade vline is causing the popping!;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 2 0 23 0;
#X connect 3 0 7 0;
#X connect 5 0 4 0;
#X connect 8 0 1 0;
#X connect 8 0 0 0;
#X connect 9 0 8 1;
#X connect 10 0 19 0;
#X connect 11 0 0 0;
#X connect 12 0 1 0;
#X connect 13 0 12 0;
#X connect 14 0 11 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 18 0 8 0;
#X connect 19 0 5 0;
#X connect 19 0 26 0;
#X connect 20 0 21 0;
#X connect 21 0 4 0;
#X connect 22 0 26 0;
#X connect 24 0 28 0;
#X connect 25 0 2 1;
#X connect 25 0 3 1;
#X connect 26 0 30 0;
#X connect 27 0 28 0;
#X connect 28 0 26 1;
#X connect 29 0 33 0;
#X connect 30 0 25 0;
#X connect 32 0 2 1;
#X connect 32 0 3 1;
#X connect 33 0 32 0;
#X restore 2100 1370 pd tabread_processing;
#X msg 2197 1303 1;
#X msg 2159 1305 0;
#X obj 176 427 popmenu 128 26 12 #E3DFD9 #5A5A5A \  empty empty empty empty 1 0 -1 1 0 1 0 0 0 0 0 select 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16;
#X obj -466 346 lb;
#X obj -386 355 bng 25 250 50 0 empty empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a;
#X msg -436 498 0;
#X msg -350 398 clear \, add select 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16;
#X obj -468 386 t b b b;
#X obj 18 427 popmenu 128 26 12 #E3DFD9 #5A5A5A \  empty empty empty empty 1 0 -1 1 0 1 0 0 0 0 0 live_buffer sample_buffer;
#X obj -26 -83 route;
#X obj 27 -164 lb;
#X obj 25 -127 f \$1;
#X obj -132 -196 r \$1-loop_buffer_default_selection;
#X msg -24 129 0;
#X obj 2 -13 f \$1;
#X obj -26 -58 t b b;
#X obj -483 -667 r \$0-send_target;
#X obj -483 -622 t b a;
#X msg -80 704 symbol \$2\$1;
#X msg -471 -578 \$1_select_bang;
#X obj -471 -537 symbol;
#X obj -483 -480 s;
#X obj 3670 710 r \$0-send_target;
#X obj 3670 766 symbol;
#X obj 3643 800 s;
#X msg 3670 739 \$1_first_index;
#X obj 3527 851 symbol;
#X obj 3506 878 s;
#X msg 3527 824 \$1_last_index;
#X obj 3256 657 r \$0-send_target;
#X obj 3256 713 symbol;
#X obj 3245 743 s;
#X msg 3256 686 \$1_first_record_complete;
#X obj -80 630 symbol _l_b;
#X obj 1350 237 t b b b;
#X obj 1364 300 s \$0-dsp_on;
#X obj 1035 30 t b b b b;
#X obj 1101 75 s \$0-dsp_on;
#X obj 1380 16 s \$0-dsp_off;
#X obj 2223 1134 r \$0-dsp_off;
#X obj 2272 1170 r \$0-dsp_on;
#X obj 87 776 s \$0-buffer_ID, f 15;
#X obj 2363 834 r \$0-buffer_ID, f 15;
#X obj 78 630 symbol live_buffer_;
#X obj 87 693 pack s f;
#X msg 2465 898 1-;
#X obj 2506 849 lb;
#X obj 2321 960 pack s s;
#X msg 2363 898 0-;
#X obj 2423 964 pack s s;
#X obj 2469 934 symbol;
#X msg 2423 994 symbol \$2\$1;
#X msg 87 735 symbol \$1\$2;
#X msg 2321 994 symbol \$2\$1;
#X obj 2363 928 symbol;
#X obj -172 636 symbol _s_b;
#X obj 211 630 symbol sample_buffer_, f 22;
#X msg -222 272 clear \, add live_buffer sample_buffer;
#X obj 1885 1619 r \$0-send_target;
#X obj 1885 1664 t b a;
#X obj 1947 1749 symbol;
#X msg 1947 1708 \$1_record_head_vline;
#X obj 238 776 s \$0-record_head_id;
#N canvas 0 22 450 300 poke_write_processing 0;
#X obj 608 521 inlet~ vline;
#X obj 511 273 knob 50 0 1 0 0 empty \$1-live-buffer-in #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 0 empty empty 0 12 6 -15 0 1 0 0;
#X obj 620 807 numbox~ 8 15 100 #E3DFD9 #5A5A5A 10 0 0 0;
#X obj 620 839 expr~ $v1 >= ($f2 * 0.9);
#X obj 620 942 f;
#X text 985 953 current buffer size;
#X obj 620 873 edge~;
#X obj 620 971 expr $f1 * 2;
#X floatatom 795 980 14 0 0 0 - - - 12;
#X obj 795 954 array size 1-live_buffer_\$1, f 24;
#X obj 620 1115 pack s f;
#X msg 620 1086 1-live_buffer_\$1;
#X obj 620 1143 t b a;
#X msg 632 1278 \; \$1 resize \$2, f 27;
#X obj 494 953 bng 25 250 50 0 empty empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a;
#X msg 504 1086 0-live_buffer_\$1;
#X obj 504 1112 pack s f;
#X obj 404 593 *~;
#X obj 435 622 *~;
#X msg 237 593 set 0-live_buffer_\$1;
#X msg 258 622 set 1-live_buffer_\$1;
#X obj 1020 833 bng 25 250 50 0 empty empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a;
#X obj 795 833 r \$0-array_size_bang;
#X obj 386 1250 r \$0-send_target;
#X obj 386 1392 symbol;
#X obj 322 1449 s;
#X obj 620 1008 t f b b f;
#X obj 316 1174 t b f;
#X obj 224 1392 s \$0-update_indexes;
#X obj 27 1392 s \$0-playhead_snapshot_bang;
#N canvas 733 172 450 300 pdlink~ 0;
#X obj 826 388 r \$0-rec_control_signal;
#X obj 478 671 symbol;
#X obj 513 481 >= 10;
#X msg 478 555 localhost:2220\$1;
#X obj 478 510 router 2;
#X obj 510 639 symbol;
#X msg 510 594 localhost:222\$1;
#X msg 773 527 0;
#X msg 804 527 1;
#X obj 485 438 route 0;
#X obj 783 603 switch~;
#X obj 783 563 tgl 25 0 empty empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a 0 1;
#X obj 384 739 pdlink~ audio-in-L;
#X obj 415 707 pdlink~ audio-in-R;
#X obj 703 388 r \$0-dsp_off;
#X msg 633 527 localhost:2230\$1;
#X msg 627 563 localhost:223\$1;
#X obj 384 775 outlet~;
#X obj 415 804 outlet~;
#X obj 196 715 outlet poke_target_buffer;
#X obj 485 335 inlet record_head_id;
#X connect 0 0 7 0;
#X connect 0 0 8 0;
#X connect 1 0 12 1;
#X connect 2 0 4 1;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 4 0 15 0;
#X connect 4 1 6 0;
#X connect 4 1 16 0;
#X connect 5 0 13 1;
#X connect 6 0 1 0;
#X connect 7 0 11 0;
#X connect 8 0 11 0;
#X connect 9 1 4 0;
#X connect 9 1 2 0;
#X connect 11 0 10 0;
#X connect 12 0 17 0;
#X connect 13 0 18 0;
#X connect 14 0 7 0;
#X connect 15 0 5 0;
#X connect 16 0 5 0;
#X connect 20 0 9 0;
#X connect 20 0 19 0;
#X restore 382 513 pd pdlink~;
#X obj 521 423 r \$0-rec_control_signal;
#X obj 521 455 sel 0 1;
#X msg 522 494 -1;
#X obj 557 582 *~;
#X obj 788 1045 bng 25 250 50 0 empty empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a;
#X obj 620 1051 f \$1;
#X obj 504 1038 f \$1;
#X msg 386 1351 \$1_dynamic_buffer_resize_bang;
#X obj 724 862 lb;
#X msg 722 955 1;
#X obj 620 911 spigot;
#X obj 722 888 t b b;
#X msg 761 901 0;
#X obj 722 923 delay 2;
#X obj 602 304 r \$0-record_head_id;
#X obj 382 479 route live_buffer_;
#X obj 695 521 route sample_buffer_;
#X msg 602 362 \$1 \$2;
#X msg 731 582 set 0-sample_buffer_\$1, f 24;
#X msg 695 606 set 1-sample_buffer_\$1;
#X obj 669 716 gate~;
#X msg 634 682 0;
#X obj 695 550 t f b;
#X obj 669 652 r \$0-endles_buffer_recording_flag;
#X obj 581 455 r \$0-overdub_on;
#X obj 695 455 r \$0-overdub_off;
#X obj 695 486 t b b;
#X obj 1050 752 expr $f2 * $f1;
#X text 897 708 f_rate_multiplier;
#X text 1050 708 f_sr_khz;
#X text 1191 708 f_bpm;
#X text 1419 736 f_num_beats;
#X obj 1223 777 expr ((60000 / $f1) * $f2 );
#X floatatom 1223 818 5 0 0 0 - - - 16;
#X obj 1223 849 f;
#X text 1270 848 target duration ms;
#X obj 998 709 f;
#X obj 1118 709 f;
#X obj 1248 709 f;
#X obj 1223 890 *;
#X text 1499 687 currently \, just 4/4 time signatures;
#X floatatom 1223 923 7 0 0 0 - - - 16;
#X obj 1145 631 r \$0-rate_khz;
#X obj 1009 631 r \$0-rate_multiplier;
#X obj 1259 631 r project_bpm;
#X obj 1362 631 r \$0-timed_record_length;
#X obj 1362 719 * 4;
#X obj 1362 690 + 1;
#X text 1414 687 measures;
#X text 1323 922 number of samples to equal that length;
#X obj 1086 346 r \$0-timed_record;
#X obj 1212 962 f;
#X floatatom 1010 668 5 0 0 0 - - - 12;
#X floatatom 1133 671 5 0 0 0 - - - 12;
#X floatatom 1259 671 5 0 0 0 - - - 12;
#X floatatom 1362 746 5 0 0 0 - - - 12;
#X obj 1370 346 r \$0-send_target;
#X obj 1370 432 symbol;
#X obj 1361 461 s, f 5;
#X msg 1370 403 \$1_first_record_bang;
#X obj 1380 496 s \$0-update_indexes;
#X obj 1223 596 s \$0-timed_recording_flag;
#X msg 1215 564 1;
#X obj 1436 564 s \$0-rec_control_signal;
#X msg 1439 533 1;
#X obj 1403 596 s \$0-read_control_signal;
#X msg 1403 564 0;
#X obj 1215 1036 delay;
#X obj 1064 518 t b b b b b b b b b;
#X obj 1380 1209 s \$0-rec_control_signal;
#X obj 1347 1175 s \$0-read_control_signal;
#X msg 1347 1146 1;
#X msg 1396 1147 0;
#X msg 1309 1195 0;
#X obj 1303 1256 s \$0-record_arm_flag;
#X msg 1269 1243 0;
#X obj 1259 1285 s \$0-timed_recording_flag;
#X obj 1225 1323 r \$0-send_target;
#X obj 1225 1379 symbol;
#X obj 1214 1409 s;
#X msg 1225 1352 \$1_first_record_complete;
#X msg 1218 1235 1;
#X obj 1223 1084 t b b b b b b;
#X obj 1197 1160 s \$0-update_indexes;
#X obj 1020 174 r ppq;
#X obj 1020 346 select 0;
#X obj 1020 287 mod;
#X msg 1039 250 64;
#X obj 1075 401 f;
#X obj 1075 438 sel 1;
#X obj 1073 479 t b b;
#X msg 1145 456 0;
#X obj 1071 213 lb;
#X obj 1218 1003 /;
#X obj 553 528 line~;
#X msg 553 494 0 2;
#X msg 603 494 1 2, f 4;
#N canvas 733 172 450 300 poke_block_dsp 0;
#X obj 408 672 poke~, f 18;
#X obj 447 714 poke~;
#X obj 625 589 block~ 64;
#X obj 356 544 inlet~ pdlink_audio_left;
#X obj 406 573 inlet~ pdlink_audio_right;
#X obj 224 500 inlet live_buffer_name_L;
#X obj 263 444 inlet live_buffer_name_R;
#X obj 571 454 inlet~ vline_position;
#X obj 638 488 inlet record_on_off;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 0 0;
#X connect 6 0 1 0;
#X connect 7 0 0 1;
#X connect 7 0 1 1;
#X connect 8 0 1 1;
#X connect 8 0 0 1;
#X restore 474 703 pd poke_block_dsp;
#X obj 275 838 s~ test_pass_through_l;
#X obj 475 838 s~ test_pass_through_R;
#X obj 613 619 print rec_signal_overdub;
#X connect 0 0 51 1;
#X connect 0 0 34 0;
#X connect 1 0 18 1;
#X connect 1 0 17 1;
#X connect 2 0 3 0;
#X connect 3 0 6 0;
#X connect 4 0 7 0;
#X connect 6 0 41 0;
#X connect 7 0 26 0;
#X connect 8 0 4 1;
#X connect 8 0 3 1;
#X connect 9 0 8 0;
#X connect 10 0 12 0;
#X connect 11 0 10 0;
#X connect 12 0 9 0;
#X connect 12 1 13 0;
#X connect 14 0 4 0;
#X connect 15 0 16 0;
#X connect 16 0 13 0;
#X connect 17 0 128 2;
#X connect 17 0 129 0;
#X connect 18 0 128 3;
#X connect 18 0 130 0;
#X connect 19 0 128 0;
#X connect 20 0 128 1;
#X connect 21 0 9 0;
#X connect 22 0 9 0;
#X connect 23 0 38 0;
#X connect 24 0 25 1;
#X connect 26 0 27 0;
#X connect 26 1 36 0;
#X connect 26 2 37 0;
#X connect 26 3 10 1;
#X connect 26 3 16 1;
#X connect 27 0 28 0;
#X connect 27 0 29 0;
#X connect 27 1 25 0;
#X connect 30 0 19 0;
#X connect 30 0 20 0;
#X connect 30 1 17 0;
#X connect 30 2 18 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 32 0 126 0;
#X connect 32 1 127 0;
#X connect 33 0 128 5;
#X connect 33 0 131 0;
#X connect 34 0 128 4;
#X connect 35 0 26 0;
#X connect 36 0 11 0;
#X connect 37 0 15 0;
#X connect 38 0 24 0;
#X connect 39 0 42 0;
#X connect 40 0 41 1;
#X connect 41 0 4 0;
#X connect 42 0 44 0;
#X connect 42 1 43 0;
#X connect 43 0 41 1;
#X connect 44 0 40 0;
#X connect 45 0 48 0;
#X connect 46 0 30 0;
#X connect 47 0 53 0;
#X connect 48 0 46 0;
#X connect 48 0 47 0;
#X connect 51 0 2 0;
#X connect 52 0 51 0;
#X connect 53 0 49 0;
#X connect 53 0 50 0;
#X connect 53 1 52 0;
#X connect 54 0 51 0;
#X connect 55 0 127 0;
#X connect 56 0 57 0;
#X connect 57 0 33 0;
#X connect 57 1 126 0;
#X connect 58 0 124 1;
#X connect 58 0 70 0;
#X connect 63 0 64 0;
#X connect 64 0 65 0;
#X connect 65 0 70 1;
#X connect 67 0 58 0;
#X connect 68 0 58 1;
#X connect 69 0 63 0;
#X connect 70 0 72 0;
#X connect 72 0 82 1;
#X connect 73 0 84 0;
#X connect 74 0 83 0;
#X connect 75 0 85 0;
#X connect 76 0 78 0;
#X connect 77 0 86 0;
#X connect 78 0 77 0;
#X connect 81 0 119 1;
#X connect 82 0 26 0;
#X connect 82 0 124 0;
#X connect 83 0 67 1;
#X connect 84 0 68 1;
#X connect 85 0 69 1;
#X connect 86 0 63 1;
#X connect 87 0 90 0;
#X connect 88 0 89 1;
#X connect 90 0 88 0;
#X connect 93 0 92 0;
#X connect 95 0 94 0;
#X connect 97 0 96 0;
#X connect 98 0 113 0;
#X connect 99 1 93 0;
#X connect 99 2 97 0;
#X connect 99 3 95 0;
#X connect 99 4 82 0;
#X connect 99 5 67 0;
#X connect 99 6 68 0;
#X connect 99 7 91 0;
#X connect 99 8 89 0;
#X connect 102 0 101 0;
#X connect 103 0 100 0;
#X connect 104 0 105 0;
#X connect 106 0 107 0;
#X connect 108 0 111 0;
#X connect 109 0 110 1;
#X connect 111 0 109 0;
#X connect 112 0 110 0;
#X connect 113 0 114 0;
#X connect 113 1 112 0;
#X connect 113 2 106 0;
#X connect 113 3 104 0;
#X connect 113 4 102 0;
#X connect 113 5 103 0;
#X connect 115 0 117 0;
#X connect 116 0 119 0;
#X connect 117 0 116 0;
#X connect 118 0 117 1;
#X connect 119 0 120 0;
#X connect 120 0 121 0;
#X connect 121 0 99 0;
#X connect 121 1 122 0;
#X connect 122 0 119 1;
#X connect 123 0 118 0;
#X connect 124 0 98 0;
#X connect 125 0 34 1;
#X connect 126 0 125 0;
#X connect 126 0 131 0;
#X connect 127 0 125 0;
#X connect 127 0 131 0;
#X restore 2395 1416 pd poke_write_processing;
#X obj -1111 -647 route, f 6;
#X obj -1111 -678 r l_b_buffer_states;
#X text -1297 -313 first_index;
#X obj -1094 -457 s \$0-first_index;
#X obj -1076 -486 s \$0-last_index;
#X obj -1111 -427 s \$0-sample-rate;
#X obj -1297 -245 r \$0-first_index;
#X obj -1297 -212 f;
#X obj -818 -667 r l_b_buffer_resize, f 18;
#X obj -818 -630 route, f 6;
#X obj -818 -567 t b b b;
#X obj 1837 1500 snapshot~;
#X obj -804 -534 s \$0-resize_snapshot_bang;
#X obj -818 -505 s \$0-resize_resume_bang;
#X obj 3888 494 r \$0-send_target;
#X obj 3888 551 symbol;
#X obj 3879 580 s, f 5;
#X msg 3888 522 \$1_first_record_bang;
#X obj -232 167 f;
#X floatatom -764 -609 5 0 0 0 - - - 12;
#X floatatom -1055 -629 5 0 0 0 - - - 12;
#X obj -1100 -266 r \$0-last_index;
#X obj -1149 -372 r \$0-update_indexes;
#X obj -1149 -337 t b b b;
#X obj -185 728 print pack;
#X obj -902 -257 r \$0-sample-rate;
#X obj 1837 1447 r \$0-playhead_snapshot_bang;
#X floatatom 1839 1540 5 0 0 0 - - - 12;
#X obj -563 -537 symbol;
#X obj -574 -486 s;
#X msg -563 -572 \$1_load_up;
#X obj 1380 -23 t b b b b;
#X obj 1486 44 s \$0_stop_pause_env;
#X obj 1145 -555 r \$0-playback_direction;
#X obj 1145 -476 f;
#X obj 1145 -447 sel 0 1;
#X msg 3249 569 1;
#X obj 3229 621 s \$0-update_indexes;
#X obj 3212 485 t b b b b b b b b b b b;
#X obj 1551 -32 s \$1_stop_pause_env;
#X obj 1169 439 s \$0_play_env;
#X obj 1151 502 s \$1_play_env;
#X obj -265 -526 symbol;
#X obj -280 -471 s;
#X msg -265 -563 \$1_delete_buffer;
#X obj -294 -667 r \$0-delete_buffer;
#X obj -294 -622 t b b a;
#X obj -321 -438 s \$0-update_indexes;
#X obj -1111 -604 unpack f f f f f;
#X obj -1059 -512 s \$0-slice_size_val;
#X obj -1510 -129 r \$0-slice_size_val;
#X obj -1426 -274 print update_indexes;
#X obj 140 -205 f;
#X obj -1510 54 s \$0-slice_size;
#X obj 3015 668 print record_stopped_update_index;
#X obj 2079 486 print play_button_bang;
#X obj 1760 502 print resume_bang;
#X obj 2183 1458 print vline_message;
#X obj 3898 615 s \$0-update_indexes;
#X obj 3895 645 s \$0-array_size_bang;
#X obj 1837 1579 s \$0-array-resize-resume;
#X obj 2521 170 r \$0-array-resize-resume;
#X obj -1368 -690 route, f 6;
#X obj -1316 -541 s \$0-first_index;
#X obj -1298 -570 s \$0-last_index;
#X obj -1351 -486 s \$0-sample-rate;
#X floatatom -1312 -672 5 0 0 0 - - - 12;
#X obj -1333 -512 s \$0-slice_size_val;
#X obj -1368 -721 r s_b_buffer_states;
#X obj -1368 -647 unpack f f f f f;
#X obj -1368 -457 s \$0-loaded_update_indexes;
#X obj -1615 -479 r \$0-loaded_update_indexes;
#X obj -1615 -445 sel 1;
#X obj -1615 -415 s \$0-update_indexes;
#X obj 1962 -818 r \$0-record_arm_flag;
#X obj 3350 800 s \$0-record_arm_flag;
#X msg 1946 -686 1;
#X obj 1951 -650 s \$0-record_arm_flag;
#X msg 1978 -686 0;
#X floatatom 1151 -516 5 0 0 0 - - - 12;
#X floatatom 1091 -572 5 0 0 0 - - - 12;
#X obj 1080 -544 f;
#X obj 1080 -514 sel 0 1;
#X obj 1172 -383 s \$0-dir-change;
#X obj 1159 -413 t b b;
#X obj 1299 -354 s \$0-stop_button;
#X obj 1286 -383 t b b;
#X obj 1091 -598 r \$0-buffer_length_defined, f 24;
#X obj 3642 451 r \$0-endless_buffer_record_logic;
#X obj 3506 561 r~ \$0-playhead_pos;
#X obj 1294 -752 r \$0-is_playing_flag;
#X floatatom 1294 -726 5 0 0 0 - - - 12;
#X obj 1283 -697 f;
#X obj 1283 -666 sel 0 1;
#X obj 1283 -812 r \$0-play_button;
#X obj 1344 -722 r \$0-record_arm_flag;
#X floatatom 1344 -696 5 0 0 0 - - - 12;
#X obj 1344 -662 f;
#X obj 1344 -633 sel 0 1;
#X obj 1495 -625 r \$0-endles_buffer_recording_flag;
#X floatatom 1495 -599 5 0 0 0 - - - 12;
#X obj 1484 -567 f;
#X obj 1481 -527 sel 0 1;
#X obj 1528 -462 s \$0-stop_endless_buffer_recording;
#X obj 1502 -427 t b b;
#X obj 1515 -391 s \$0-overdub_off;
#X text 1267 -841 play button pressed;
#X text 1203 -753 is it playing?;
#X text 1392 -696 yes \, its playing \, is record armed?;
#X text 1541 -590 yes \, it is record armed \, is it endless buffer?, f 32;
#X text 1552 -519 yes. engage endless buffer stop logic;
#X text 1433 -369 no \, standard buffer \, turn off overdub \, and pause.;
#X obj 1120 -715 r \$0-record_arm_flag;
#X floatatom 1217 -684 5 0 0 0 - - - 12;
#X obj 1206 -657 f;
#X text 987 -715 no \, is record armed?;
#X obj 1206 -631 sel 0 1;
#X text 1112 29 standard play logic;
#X text 742 -681 yes. Is buffer set to endless?;
#X obj 1000 -561 t b b;
#X obj 958 -529 s \$0-overdub_on;
#X obj -665 -149 s \$0-buffer_content_flag;
#X obj 1024 -678 r \$0-buffer_content_flag;
#X floatatom 1024 -652 5 0 0 0 - - - 12;
#X obj 1024 -625 f;
#X obj 1024 -598 sel 0 1;
#X obj 1900 1126 print pause_sampler_number;
#X obj 3301 440 r \$0-stop_endless_buffer_recording;
#X obj 1014 -348 s \$0-timed_record;
#X obj 1231 -313 s \$0-endless_buffer_record_logic;
#X obj 1049 -476 t b b;
#X obj 1222 -348 t b b;
#X obj 1421 -662 r \$0-timed_recording_flag;
#X floatatom 1421 -636 5 0 0 0 - - - 12;
#X obj 1411 -603 f;
#X obj 1411 -578 sel 0 1;
#X obj 1328 -469 s \$0-timed_record_stop;
#X obj 1515 -496 t b b;
#X obj 1748 -908 r \$0-timed_recording_flag;
#X floatatom 1748 -882 5 0 0 0 - - - 12;
#X obj 1737 -851 f;
#X obj 1818 -882 r \$0-endles_buffer_recording_flag;
#X floatatom 1818 -856 5 0 0 0 - - - 12;
#X obj 1807 -827 f;
#X obj 1890 -850 r \$0-overdub_recording;
#X floatatom 1890 -824 5 0 0 0 - - - 12;
#X obj 1879 -792 f;
#X obj 1879 -766 sel 0 1;
#X obj 1807 -801 sel 0 1;
#X obj 1737 -825 sel 0 1;
#X obj 1751 -715 s \$0-timed_record_stop;
#X obj 1807 -589 s \$0-stop_endless_buffer_recording;
#X obj 1850 -617 s \$0-overdub_off;
#X obj 3367 912 s \$0-endles_buffer_recording_flag;
#X msg 3369 878 0;
#X obj 3762 813 s \$0-endles_buffer_recording_flag;
#X msg 3764 779 1;
#X obj -1041 -541 s \$0-live_buffer_content;
#X obj -665 -248 r \$0-live_buffer_content, f 23;
#X obj 3642 498 t b b b b b b b b;
#X obj 3470 532 s \$0-rec_control_signal;
#X obj 3437 498 s \$0-read_control_signal;
#X msg 3437 469 1;
#X msg 3486 470 0;
#X obj 1038 237 r \$0-endles_buffer_recording_flag;
#X floatatom 1038 288 5 0 0 0 - - - 12;
#X obj 1027 320 f;
#X obj 1024 360 sel 0 1;
#X obj 2466 -605 int;
#X obj 2455 -502 select 0;
#X obj 2466 -573 * 64;
#X obj 2455 -463 spigot;
#X obj 2575 -528 tgl 21 0 empty empty empty 0 -11 0 12 #fcfcfc #000000 #000000 0 1;
#X text 2521 -574 Beat Reset;
#X floatatom 2507 -654 3 1 100 0 - - - 24;
#X msg 2466 -704 4;
#X obj 2476 -428 s \$0-reset-sync;
#X obj 2818 -875 r ppq;
#X obj 2707 -854 loadbang;
#X msg 2922 -503 0;
#X obj 2973 -458 f;
#X text 3013 -459 event pending flag;
#X obj 2933 -419 spigot;
#X obj 2920 -565 t b b;
#X obj 2455 -537 mod;
#X obj 2989 -575 r row_\$1;
#X obj 2920 -655 mod, f 5;
#X obj 2920 -605 select 0;
#X obj 2933 -458 f;
#X text 2831 -459 event storage;
#X msg 2880 -543 0;
#X msg 2947 -503 1;
#X obj 2973 -531 t b f;
#X obj 2906 -372 switch;
#X obj 2906 -332 s \$0-slice-size;
#X obj 2820 -677 sel 1;
#X msg 2823 -642 1;
#X msg 2889 -419 2;
#X obj 2818 -717 r \$1-quantizer;
#X text 2640 -753 Quantizer;
#X text 3156 -718 rate for quantizing. Figure out math and add optinos with GUI;
#X obj -338 2132 s \$0-stop_env;
#X obj -532 2026 t b b b b;
#X floatatom 3074 -621 5 0 0 0 - - - 12;
#X obj 3165 -676 bng 25 250 50 0 empty empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a;
#X text 98 402 Buffer Selection;
#X obj 14 515 popmenu 142 26 12 #E3DFD9 #5A5A5A Key\ Quantizing empty empty empty empty 1 0 -1 1 0 1 0 0 0 0 0 1/64 1/32 1/16 1/8 1/4 1/2 1;
#X obj 199 515 popmenu 128 26 12 #E3DFD9 #5A5A5A Beat\ Reset empty empty empty empty 1 0 -1 1 0 1 0 0 0 0 0 1 2 3 4 5 6 7 8;
#X obj -311 492 t b b;
#X obj -309 463 lb;
#X msg -287 557 clear \, add 1 2 3 4 5 6 7 8;
#X obj 14 579 s \$0-key_quantize_selection;
#X obj 199 579 s \$0-beat_reset_selection;
#X obj 3074 -787 r \$0-key_quantize_selection;
#X obj 2507 -824 r \$0-beat_reset_selection;
#X obj 3074 -713 expr pow(2\\\, $f1);
#X obj 3227 -670 lb;
#X msg 3227 -637 4;
#X obj 2510 -761 + 1;
#X text 199 482 Beat Reset;
#X text 14 482 Key/Input Quantizer;
#X msg -316 527 clear \, add 1/64 1/32 1/16 1/8 1/4 1/2 1;
#X text 597 194 Overdub;
#X obj 597 232 knob 50 0 1 0 0 empty empty #E3DFD9 #968E82 #5A5A5A 1 0 0 0 1 270 0 0 0 empty empty 0 12 6 -15 0 1 0 0;
#X text 470 57 Record Arm, f 12;
#X text 527 402 Timed Record;
#X text 649 432 measures;
#X obj 777 363 lb;
#X msg 777 389 clear \, add 1 2 3 4 5 6 7 8;
#X obj 508 499 s \$0-timed_record_length;
#X obj 460 427 tgl 25 0 \$0-buffer_length_defined empty empty 17 7 0 10 #e3dfd9 #5a5a5a #5a5a5a 0 1;
#X obj 508 433 popmenu 128 26 12 #E3DFD9 #5A5A5A \  empty empty empty empty 1 0 -1 1 0 1 0 0 0 0 0 1 2 3 4 5 6 7 8;
#X msg 1032 -399 1;
#X text 253 -42 figure out if the crossfade vline~ is causing the popping!;
#X obj 1099 325 r \$0-timed_recording_flag;
#X floatatom 1099 351 5 0 0 0 - - - 12;
#X obj 1089 384 f;
#X obj 1089 409 sel 0 1;
#X obj 1089 601 print read_control_from_timed;
#X obj -913 -649 print last_index_update, f 20;
#X obj -592 -630 t b b a;
#X obj -592 -451 s \$0-update_indexes;
#X connect 0 0 3 0;
#X connect 0 0 159 0;
#X connect 1 0 0 0;
#X connect 2 0 3 1;
#X connect 2 0 160 1;
#X connect 3 0 4 0;
#X connect 4 0 150 0;
#X connect 5 0 65 0;
#X connect 5 0 84 0;
#X connect 5 0 127 0;
#X connect 5 0 243 0;
#X connect 5 0 343 0;
#X connect 5 0 136 0;
#X connect 5 0 60 0;
#X connect 5 0 506 0;
#X connect 5 0 570 0;
#X connect 5 0 582 0;
#X connect 6 0 5 0;
#X connect 6 0 506 1;
#X connect 6 0 628 0;
#X connect 8 0 241 0;
#X connect 9 0 13 0;
#X connect 12 0 14 0;
#X connect 13 0 15 0;
#X connect 14 0 16 0;
#X connect 15 0 486 0;
#X connect 16 0 485 0;
#X connect 17 0 18 0;
#X connect 19 0 20 0;
#X connect 19 0 76 0;
#X connect 20 0 21 0;
#X connect 21 0 17 0;
#X connect 24 0 33 0;
#X connect 26 0 27 0;
#X connect 27 0 66 0;
#X connect 27 0 29 0;
#X connect 27 0 63 0;
#X connect 28 0 24 1;
#X connect 30 0 79 0;
#X connect 30 0 109 0;
#X connect 31 0 66 0;
#X connect 33 0 68 0;
#X connect 33 1 404 0;
#X connect 33 1 541 0;
#X connect 33 1 402 0;
#X connect 34 0 63 0;
#X connect 35 0 29 0;
#X connect 36 0 54 1;
#X connect 36 0 495 0;
#X connect 37 0 46 1;
#X connect 38 0 55 1;
#X connect 38 0 494 0;
#X connect 39 0 40 1;
#X connect 40 0 493 0;
#X connect 41 0 36 1;
#X connect 42 0 38 1;
#X connect 43 0 44 1;
#X connect 44 0 403 0;
#X connect 45 0 41 1;
#X connect 45 0 42 2;
#X connect 46 0 41 2;
#X connect 46 0 42 1;
#X connect 47 1 61 0;
#X connect 47 1 41 0;
#X connect 47 1 42 0;
#X connect 48 0 53 0;
#X connect 50 0 51 1;
#X connect 51 0 492 0;
#X connect 52 0 456 0;
#X connect 53 0 54 0;
#X connect 53 1 55 0;
#X connect 53 2 52 2;
#X connect 54 0 52 0;
#X connect 55 0 52 1;
#X connect 55 0 58 0;
#X connect 56 0 47 0;
#X connect 58 0 59 0;
#X connect 62 0 279 0;
#X connect 64 0 28 0;
#X connect 65 0 67 0;
#X connect 66 0 30 1;
#X connect 68 0 69 0;
#X connect 68 1 30 0;
#X connect 68 2 101 0;
#X connect 69 0 29 0;
#X connect 70 0 29 0;
#X connect 71 0 86 0;
#X connect 72 0 27 0;
#X connect 72 0 602 0;
#X connect 76 0 8 0;
#X connect 79 0 100 0;
#X connect 80 0 81 0;
#X connect 81 0 82 0;
#X connect 82 0 83 0;
#X connect 83 1 169 0;
#X connect 84 0 85 0;
#X connect 85 0 95 0;
#X connect 90 0 38 0;
#X connect 91 0 40 0;
#X connect 92 0 51 0;
#X connect 93 0 44 0;
#X connect 94 0 36 0;
#X connect 96 0 303 0;
#X connect 98 0 373 0;
#X connect 99 0 5 0;
#X connect 102 0 65 0;
#X connect 104 0 84 0;
#X connect 106 0 278 0;
#X connect 108 0 279 0;
#X connect 110 0 71 1;
#X connect 112 0 113 0;
#X connect 112 1 114 0;
#X connect 112 2 117 0;
#X connect 112 3 115 0;
#X connect 112 4 116 0;
#X connect 113 0 205 1;
#X connect 113 0 206 1;
#X connect 113 0 308 0;
#X connect 114 0 205 1;
#X connect 114 0 206 1;
#X connect 114 0 308 0;
#X connect 115 0 205 1;
#X connect 115 0 206 1;
#X connect 115 0 308 0;
#X connect 116 0 205 1;
#X connect 116 0 206 1;
#X connect 116 0 308 0;
#X connect 117 0 205 1;
#X connect 117 0 206 1;
#X connect 117 0 308 0;
#X connect 118 0 207 0;
#X connect 120 0 21 0;
#X connect 121 0 122 0;
#X connect 122 0 123 1;
#X connect 123 0 124 0;
#X connect 124 1 173 0;
#X connect 126 0 127 0;
#X connect 127 0 128 0;
#X connect 128 0 129 0;
#X connect 130 0 280 0;
#X connect 131 0 123 0;
#X connect 131 1 118 0;
#X connect 133 0 134 0;
#X connect 134 0 132 0;
#X connect 135 0 131 0;
#X connect 137 0 140 0;
#X connect 139 0 436 0;
#X connect 140 0 139 0;
#X connect 141 0 406 0;
#X connect 142 0 140 0;
#X connect 144 0 139 0;
#X connect 145 0 143 0;
#X connect 146 0 147 0;
#X connect 147 0 148 1;
#X connect 148 0 149 0;
#X connect 149 0 151 0;
#X connect 149 1 165 0;
#X connect 150 0 160 0;
#X connect 150 0 157 1;
#X connect 150 1 148 0;
#X connect 152 0 374 0;
#X connect 153 0 76 0;
#X connect 154 0 155 1;
#X connect 155 0 158 0;
#X connect 156 0 154 0;
#X connect 157 0 164 0;
#X connect 158 0 157 0;
#X connect 159 0 155 0;
#X connect 160 0 157 2;
#X connect 163 0 280 0;
#X connect 165 0 166 0;
#X connect 167 0 28 0;
#X connect 168 0 169 1;
#X connect 169 0 170 0;
#X connect 170 0 103 0;
#X connect 171 0 168 0;
#X connect 172 0 173 1;
#X connect 173 0 174 0;
#X connect 174 0 125 0;
#X connect 175 0 172 0;
#X connect 182 0 184 0;
#X connect 183 0 194 0;
#X connect 184 0 185 0;
#X connect 185 0 192 1;
#X connect 187 0 192 2;
#X connect 189 0 190 0;
#X connect 190 0 187 0;
#X connect 191 0 196 0;
#X connect 191 1 214 0;
#X connect 191 1 198 0;
#X connect 192 0 193 0;
#X connect 193 0 195 0;
#X connect 194 0 192 0;
#X connect 194 0 204 1;
#X connect 194 1 185 0;
#X connect 194 2 187 0;
#X connect 195 0 191 0;
#X connect 195 1 198 0;
#X connect 196 0 236 0;
#X connect 196 0 235 0;
#X connect 197 0 196 1;
#X connect 198 0 196 0;
#X connect 199 0 183 0;
#X connect 199 1 200 0;
#X connect 200 0 198 0;
#X connect 202 0 123 0;
#X connect 203 0 201 0;
#X connect 204 0 119 0;
#X connect 205 0 199 0;
#X connect 205 0 273 0;
#X connect 206 0 273 0;
#X connect 206 0 119 0;
#X connect 207 0 209 0;
#X connect 207 1 112 0;
#X connect 208 0 206 0;
#X connect 208 1 205 0;
#X connect 209 0 208 0;
#X connect 210 0 209 1;
#X connect 211 0 216 0;
#X connect 212 0 213 0;
#X connect 213 0 211 0;
#X connect 214 0 201 0;
#X connect 214 1 204 0;
#X connect 215 0 197 0;
#X connect 216 0 232 0;
#X connect 217 0 222 0;
#X connect 218 0 223 0;
#X connect 227 0 230 0;
#X connect 228 0 229 0;
#X connect 229 0 227 0;
#X connect 230 0 231 0;
#X connect 233 0 210 0;
#X connect 234 0 196 1;
#X connect 235 0 203 0;
#X connect 236 0 119 0;
#X connect 239 0 240 0;
#X connect 240 0 44 1;
#X connect 241 0 242 0;
#X connect 241 1 7 0;
#X connect 243 0 244 0;
#X connect 244 0 246 0;
#X connect 245 0 243 0;
#X connect 248 0 249 0;
#X connect 249 0 274 0;
#X connect 251 0 305 2;
#X connect 253 0 254 0;
#X connect 254 0 251 0;
#X connect 255 0 256 0;
#X connect 255 1 293 0;
#X connect 255 1 311 0;
#X connect 256 0 261 0;
#X connect 256 0 260 0;
#X connect 257 0 256 1;
#X connect 258 0 388 0;
#X connect 259 0 257 0;
#X connect 260 0 258 0;
#X connect 261 0 247 0;
#X connect 262 0 263 1;
#X connect 263 0 301 0;
#X connect 264 0 266 0;
#X connect 265 0 305 1;
#X connect 265 0 287 1;
#X connect 266 0 263 0;
#X connect 266 1 382 0;
#X connect 269 0 271 0;
#X connect 270 0 269 0;
#X connect 272 0 270 0;
#X connect 274 0 265 1;
#X connect 275 0 286 0;
#X connect 278 0 71 0;
#X connect 278 2 276 0;
#X connect 278 3 277 0;
#X connect 278 5 88 0;
#X connect 278 6 89 0;
#X connect 279 0 86 0;
#X connect 279 1 87 0;
#X connect 279 2 276 0;
#X connect 279 3 277 0;
#X connect 279 5 88 0;
#X connect 279 6 89 0;
#X connect 280 0 86 0;
#X connect 280 1 87 0;
#X connect 280 2 276 0;
#X connect 280 3 277 0;
#X connect 280 5 88 0;
#X connect 280 6 89 0;
#X connect 281 0 45 0;
#X connect 282 0 46 0;
#X connect 283 0 284 0;
#X connect 284 0 285 0;
#X connect 284 1 87 0;
#X connect 284 2 276 0;
#X connect 284 3 277 0;
#X connect 284 5 88 0;
#X connect 284 6 89 0;
#X connect 285 0 86 0;
#X connect 286 0 86 0;
#X connect 286 1 87 0;
#X connect 286 2 88 0;
#X connect 286 3 89 0;
#X connect 286 4 276 0;
#X connect 286 5 277 0;
#X connect 287 0 289 0;
#X connect 289 0 291 0;
#X connect 289 1 288 0;
#X connect 289 2 290 0;
#X connect 292 0 304 0;
#X connect 292 1 287 0;
#X connect 292 2 293 0;
#X connect 293 0 256 1;
#X connect 294 0 293 0;
#X connect 296 0 297 1;
#X connect 297 0 298 0;
#X connect 298 0 405 0;
#X connect 298 1 300 0;
#X connect 299 0 296 0;
#X connect 300 0 305 0;
#X connect 301 0 396 0;
#X connect 301 1 300 1;
#X connect 301 2 294 0;
#X connect 301 3 265 0;
#X connect 301 4 251 0;
#X connect 303 0 86 0;
#X connect 303 1 87 0;
#X connect 303 2 277 0;
#X connect 303 3 276 0;
#X connect 303 4 88 0;
#X connect 303 5 89 0;
#X connect 304 0 255 0;
#X connect 305 0 292 0;
#X connect 306 0 305 3;
#X connect 307 0 306 0;
#X connect 309 0 307 0;
#X connect 309 0 311 1;
#X connect 311 0 392 0;
#X connect 312 0 314 0;
#X connect 315 0 316 0;
#X connect 319 0 320 0;
#X connect 320 0 335 1;
#X connect 322 0 350 2;
#X connect 324 0 325 0;
#X connect 325 0 322 0;
#X connect 326 0 327 0;
#X connect 326 1 338 0;
#X connect 326 1 379 0;
#X connect 327 0 332 0;
#X connect 327 0 331 0;
#X connect 328 0 327 1;
#X connect 329 0 366 0;
#X connect 330 0 328 0;
#X connect 331 0 329 0;
#X connect 332 0 318 0;
#X connect 333 0 334 1;
#X connect 334 0 357 0;
#X connect 335 0 350 1;
#X connect 336 0 334 0;
#X connect 336 1 347 0;
#X connect 337 0 349 0;
#X connect 337 2 338 0;
#X connect 338 0 327 1;
#X connect 339 0 338 0;
#X connect 340 0 342 1;
#X connect 342 0 341 0;
#X connect 343 0 344 0;
#X connect 344 0 346 0;
#X connect 345 0 343 0;
#X connect 348 0 286 0;
#X connect 349 0 326 0;
#X connect 350 0 337 0;
#X connect 351 0 377 0;
#X connect 352 0 353 0;
#X connect 353 0 354 0;
#X connect 354 0 355 0;
#X connect 356 0 5 0;
#X connect 357 0 350 0;
#X connect 357 1 339 0;
#X connect 357 2 335 0;
#X connect 357 3 322 0;
#X connect 358 0 773 0;
#X connect 358 1 336 0;
#X connect 359 0 358 0;
#X connect 360 0 361 0;
#X connect 362 0 363 0;
#X connect 367 0 368 0;
#X connect 368 0 142 0;
#X connect 370 0 371 0;
#X connect 371 0 373 1;
#X connect 372 0 773 0;
#X connect 372 1 359 0;
#X connect 373 0 372 0;
#X connect 374 0 27 0;
#X connect 374 1 602 0;
#X connect 375 0 376 0;
#X connect 377 0 352 1;
#X connect 378 0 355 0;
#X connect 379 0 773 0;
#X connect 379 2 342 0;
#X connect 380 0 381 0;
#X connect 381 0 382 1;
#X connect 382 0 383 0;
#X connect 383 1 385 0;
#X connect 384 0 385 1;
#X connect 385 0 386 0;
#X connect 386 0 391 0;
#X connect 387 0 384 0;
#X connect 389 0 382 0;
#X connect 392 0 393 0;
#X connect 392 1 310 0;
#X connect 394 0 395 0;
#X connect 395 0 396 1;
#X connect 396 0 397 0;
#X connect 397 1 399 0;
#X connect 398 0 399 1;
#X connect 399 0 400 0;
#X connect 400 0 297 0;
#X connect 401 0 398 0;
#X connect 403 0 56 0;
#X connect 405 0 390 0;
#X connect 405 1 302 0;
#X connect 406 0 407 0;
#X connect 407 1 142 0;
#X connect 409 0 355 0;
#X connect 410 0 411 0;
#X connect 411 0 277 0;
#X connect 411 0 276 0;
#X connect 411 0 89 0;
#X connect 411 0 88 0;
#X connect 411 0 87 0;
#X connect 412 0 413 0;
#X connect 413 0 41 0;
#X connect 413 0 42 0;
#X connect 414 0 415 0;
#X connect 415 0 428 0;
#X connect 416 0 426 0;
#X connect 417 0 491 0;
#X connect 418 0 490 0;
#X connect 419 0 416 0;
#X connect 421 0 423 0;
#X connect 422 0 421 0;
#X connect 424 0 489 0;
#X connect 425 0 422 0;
#X connect 426 0 420 0;
#X connect 427 0 414 0;
#X connect 430 0 11 0;
#X connect 431 0 430 0;
#X connect 432 0 484 0;
#X connect 433 0 2 0;
#X connect 434 0 435 0;
#X connect 435 0 483 0;
#X connect 437 0 139 2;
#X connect 438 0 461 0;
#X connect 438 0 458 0;
#X connect 440 0 441 0;
#X connect 441 0 442 0;
#X connect 442 0 443 0;
#X connect 444 0 445 0;
#X connect 445 0 446 0;
#X connect 446 0 447 0;
#X connect 448 0 449 0;
#X connect 449 0 441 0;
#X connect 449 0 445 0;
#X connect 451 0 452 1;
#X connect 452 0 453 0;
#X connect 453 0 702 0;
#X connect 453 1 657 0;
#X connect 454 0 451 0;
#X connect 457 0 479 1;
#X connect 458 0 459 0;
#X connect 459 0 460 1;
#X connect 460 0 531 0;
#X connect 461 0 462 0;
#X connect 462 0 463 1;
#X connect 463 0 534 0;
#X connect 465 0 711 0;
#X connect 466 0 467 1;
#X connect 467 0 468 0;
#X connect 468 0 647 0;
#X connect 468 1 649 0;
#X connect 469 0 488 0;
#X connect 475 0 474 0;
#X connect 477 0 476 0;
#X connect 478 0 646 0;
#X connect 479 0 6 0;
#X connect 480 0 479 0;
#X connect 481 0 482 0;
#X connect 482 0 480 0;
#X connect 483 0 624 0;
#X connect 484 0 49 0;
#X connect 485 0 23 0;
#X connect 486 0 22 0;
#X connect 487 0 10 0;
#X connect 488 0 692 0;
#X connect 489 0 48 6;
#X connect 490 0 48 5;
#X connect 491 0 48 4;
#X connect 492 0 48 3;
#X connect 493 0 48 2;
#X connect 494 0 48 1;
#X connect 495 0 48 0;
#X connect 496 0 45 1;
#X connect 498 0 139 1;
#X connect 499 0 5 0;
#X connect 500 0 473 0;
#X connect 502 0 504 1;
#X connect 502 0 551 1;
#X connect 502 0 595 0;
#X connect 502 0 589 0;
#X connect 502 0 637 0;
#X connect 502 0 623 1;
#X connect 503 0 550 0;
#X connect 503 0 540 0;
#X connect 503 1 563 0;
#X connect 503 1 562 0;
#X connect 504 0 525 0;
#X connect 507 0 506 4;
#X connect 508 0 506 4;
#X connect 509 0 502 0;
#X connect 510 0 514 0;
#X connect 511 0 514 0;
#X connect 513 0 509 0;
#X connect 514 1 564 0;
#X connect 514 1 513 0;
#X connect 514 2 512 0;
#X connect 515 0 503 0;
#X connect 516 0 522 0;
#X connect 517 0 518 0;
#X connect 518 0 516 1;
#X connect 519 0 516 0;
#X connect 520 0 515 0;
#X connect 521 0 509 0;
#X connect 522 0 520 0;
#X connect 522 1 521 0;
#X connect 523 0 524 0;
#X connect 523 0 615 0;
#X connect 523 0 811 0;
#X connect 524 0 528 0;
#X connect 524 1 526 0;
#X connect 525 0 505 0;
#X connect 526 0 527 0;
#X connect 527 0 528 1;
#X connect 529 0 532 0;
#X connect 529 0 535 0;
#X connect 530 0 531 1;
#X connect 532 0 530 0;
#X connect 533 0 534 1;
#X connect 535 0 533 0;
#X connect 536 0 539 0;
#X connect 537 0 538 1;
#X connect 539 0 537 0;
#X connect 540 0 504 0;
#X connect 541 0 105 0;
#X connect 541 1 542 0;
#X connect 541 2 70 0;
#X connect 543 0 737 0;
#X connect 543 1 35 0;
#X connect 543 2 34 0;
#X connect 543 2 402 0;
#X connect 543 3 544 0;
#X connect 546 0 508 0;
#X connect 547 0 507 0;
#X connect 549 0 556 0;
#X connect 549 0 554 0;
#X connect 550 0 551 0;
#X connect 551 0 559 0;
#X connect 551 0 569 0;
#X connect 552 0 557 0;
#X connect 553 0 552 0;
#X connect 553 0 555 0;
#X connect 554 0 560 0;
#X connect 555 0 561 0;
#X connect 556 0 558 0;
#X connect 557 0 556 1;
#X connect 558 0 506 3;
#X connect 559 0 548 0;
#X connect 560 0 506 2;
#X connect 561 0 554 1;
#X connect 562 0 504 0;
#X connect 563 0 551 0;
#X connect 564 0 515 0;
#X connect 565 0 566 0;
#X connect 566 1 568 0;
#X connect 568 0 567 0;
#X connect 571 0 619 0;
#X connect 572 0 571 0;
#X connect 577 0 578 1;
#X connect 578 0 487 0;
#X connect 579 0 580 0;
#X connect 580 0 581 0;
#X connect 581 0 584 0;
#X connect 581 1 583 0;
#X connect 582 0 598 0;
#X connect 585 0 588 0;
#X connect 586 0 587 1;
#X connect 588 0 586 0;
#X connect 589 0 590 0;
#X connect 589 0 591 0;
#X connect 590 0 580 1;
#X connect 591 0 571 1;
#X connect 592 0 431 1;
#X connect 593 0 594 0;
#X connect 593 0 622 0;
#X connect 594 0 578 0;
#X connect 594 1 431 0;
#X connect 594 2 432 0;
#X connect 596 0 432 1;
#X connect 597 0 582 0;
#X connect 598 0 631 0;
#X connect 599 0 600 1;
#X connect 601 0 599 0;
#X connect 602 0 145 0;
#X connect 602 1 545 0;
#X connect 602 2 610 0;
#X connect 602 3 97 0;
#X connect 604 0 650 0;
#X connect 605 0 606 0;
#X connect 606 0 452 0;
#X connect 606 1 655 0;
#X connect 607 0 538 0;
#X connect 609 1 608 0;
#X connect 609 2 607 0;
#X connect 609 3 460 0;
#X connect 609 4 463 0;
#X connect 609 5 461 0;
#X connect 609 6 500 0;
#X connect 609 7 501 0;
#X connect 609 8 734 0;
#X connect 609 8 733 0;
#X connect 609 9 725 0;
#X connect 609 10 478 0;
#X connect 613 0 614 1;
#X connect 615 0 613 0;
#X connect 616 0 617 0;
#X connect 617 0 618 0;
#X connect 617 1 614 0;
#X connect 619 0 576 0;
#X connect 619 1 574 0;
#X connect 619 2 575 0;
#X connect 619 2 810 0;
#X connect 619 3 620 0;
#X connect 619 4 728 0;
#X connect 621 0 434 0;
#X connect 632 0 303 0;
#X connect 633 0 640 0;
#X connect 637 0 633 1;
#X connect 639 0 633 0;
#X connect 640 0 641 0;
#X connect 640 1 636 0;
#X connect 640 2 638 0;
#X connect 640 3 634 0;
#X connect 640 4 635 0;
#X connect 642 0 643 0;
#X connect 643 0 644 0;
#X connect 645 0 466 0;
#X connect 647 0 648 0;
#X connect 649 0 648 0;
#X connect 650 0 605 1;
#X connect 651 0 652 1;
#X connect 652 0 653 0;
#X connect 653 0 605 0;
#X connect 653 1 701 0;
#X connect 655 0 452 0;
#X connect 655 1 654 0;
#X connect 657 0 702 0;
#X connect 657 1 656 0;
#X connect 658 0 651 0;
#X connect 659 0 730 0;
#X connect 660 0 438 0;
#X connect 661 0 662 0;
#X connect 662 0 663 1;
#X connect 663 0 664 0;
#X connect 664 0 685 0;
#X connect 664 1 668 0;
#X connect 665 0 663 0;
#X connect 666 0 667 0;
#X connect 667 0 668 1;
#X connect 668 0 669 0;
#X connect 669 0 24 0;
#X connect 669 1 705 0;
#X connect 670 0 671 0;
#X connect 671 0 672 1;
#X connect 672 0 673 0;
#X connect 673 0 675 0;
#X connect 673 1 708 0;
#X connect 675 0 24 0;
#X connect 675 1 676 0;
#X connect 683 0 684 0;
#X connect 684 0 685 1;
#X connect 685 0 687 0;
#X connect 687 0 543 0;
#X connect 687 1 695 0;
#X connect 690 0 543 0;
#X connect 690 1 691 0;
#X connect 693 0 694 0;
#X connect 694 0 695 1;
#X connect 695 0 696 0;
#X connect 696 0 652 0;
#X connect 696 1 690 0;
#X connect 698 0 609 0;
#X connect 701 1 803 0;
#X connect 702 0 543 0;
#X connect 702 1 700 0;
#X connect 703 0 704 0;
#X connect 704 0 705 1;
#X connect 705 0 706 0;
#X connect 706 0 672 0;
#X connect 706 1 707 0;
#X connect 708 0 543 0;
#X connect 708 1 674 0;
#X connect 709 0 710 0;
#X connect 710 0 711 1;
#X connect 711 0 720 0;
#X connect 712 0 713 0;
#X connect 713 0 714 1;
#X connect 714 0 719 0;
#X connect 715 0 716 0;
#X connect 716 0 717 1;
#X connect 717 0 718 0;
#X connect 718 0 467 0;
#X connect 718 1 723 0;
#X connect 719 0 717 0;
#X connect 719 1 722 0;
#X connect 720 0 714 0;
#X connect 720 1 721 0;
#X connect 725 0 724 0;
#X connect 727 0 726 0;
#X connect 729 0 469 0;
#X connect 730 0 458 0;
#X connect 730 1 477 0;
#X connect 730 2 475 0;
#X connect 730 3 497 0;
#X connect 730 4 630 0;
#X connect 730 5 629 0;
#X connect 730 6 587 0;
#X connect 730 7 727 0;
#X connect 733 0 732 0;
#X connect 734 0 731 0;
#X connect 735 0 736 0;
#X connect 736 0 737 1;
#X connect 737 0 738 0;
#X connect 738 0 807 0;
#X connect 739 0 741 0;
#X connect 740 0 742 0;
#X connect 741 0 755 1;
#X connect 742 0 747 0;
#X connect 743 0 742 1;
#X connect 745 0 739 0;
#X connect 746 0 739 0;
#X connect 748 0 755 0;
#X connect 748 0 757 0;
#X connect 749 0 767 0;
#X connect 749 0 746 0;
#X connect 749 0 761 0;
#X connect 750 0 751 0;
#X connect 751 0 753 1;
#X connect 753 0 764 2;
#X connect 754 0 750 0;
#X connect 754 1 759 0;
#X connect 755 0 740 0;
#X connect 756 0 763 0;
#X connect 756 0 764 1;
#X connect 757 0 758 0;
#X connect 758 0 754 0;
#X connect 759 0 753 0;
#X connect 761 0 750 0;
#X connect 761 0 759 0;
#X connect 762 0 751 0;
#X connect 762 0 751 1;
#X connect 763 0 762 0;
#X connect 763 1 759 0;
#X connect 764 0 765 0;
#X connect 766 0 767 0;
#X connect 766 1 768 0;
#X connect 767 0 764 0;
#X connect 768 0 764 0;
#X connect 769 0 766 0;
#X connect 773 0 369 0;
#X connect 773 1 409 0;
#X connect 773 2 378 0;
#X connect 773 3 772 0;
#X connect 774 0 757 1;
#X connect 777 0 782 0;
#X connect 778 0 783 0;
#X connect 779 0 781 0;
#X connect 779 1 792 0;
#X connect 780 0 779 0;
#X connect 781 0 778 0;
#X connect 784 0 786 0;
#X connect 785 0 789 0;
#X connect 786 0 774 0;
#X connect 787 0 788 0;
#X connect 788 0 774 0;
#X connect 789 0 745 0;
#X connect 792 0 777 0;
#X connect 798 0 799 0;
#X connect 799 0 802 0;
#X connect 802 0 800 0;
#X connect 803 0 699 0;
#X connect 805 0 806 0;
#X connect 806 0 807 1;
#X connect 807 0 808 0;
#X connect 808 0 107 0;
#X connect 808 0 611 0;
#X connect 808 0 612 0;
#X connect 808 0 809 0;
#X connect 811 0 812 0;
#X connect 811 1 600 0;
#X connect 811 2 601 0;
